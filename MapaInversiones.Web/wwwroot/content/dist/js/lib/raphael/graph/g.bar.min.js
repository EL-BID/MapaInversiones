(function(){function t(t,r,u,f,e,o,s,h){var a,c,l;if(e&&!f||!e&&!u)return s?"":h.path();o={round:"round",sharp:"sharp",soft:"soft",square:"square"}[o]||"square",f=Math.round(f),u=Math.round(u),t=Math.round(t),r=Math.round(r);switch(o){case"round":e?(c=~~(u/2),f<c?(c=f,a=["M",t-~~(u/2),r,"l",0,0,"a",~~(u/2),c,0,0,1,u,0,"l",0,0,"z"]):a=["M",t-c,r,"l",0,c-f,"a",c,c,0,1,1,u,0,"l",0,f-c,"z"]):(c=~~(f/2),u<c?(c=u,a=["M",t+.5,r+.5-~~(f/2),"l",0,0,"a",c,~~(f/2),0,0,1,0,f,"l",0,0,"z"]):a=["M",t+.5,r+.5-c,"l",u-c,0,"a",c,c,0,1,1,0,f,"l",c-u,0,"z"]);break;case"sharp":e?(l=~~(u/2),a=["M",t+l,r,"l",-u,0,0,-i(f-l,0),l,-n(l,f),l,n(l,f),l,"z"]):(l=~~(f/2),a=["M",t,r+l,"l",0,-f,i(u-l,0),0,n(l,u),l,-n(l,u),l+(l*2<f),"z"]);break;case"square":a=e?["M",t+~~(u/2),r,"l",1-u,0,0,-f,u-1,0,"z"]:["M",t,r+~~(f/2),"l",0,-f,u,0,0,f,"z"];break;case"soft":e?(c=n(Math.round(u/5),f),a=["M",t-~~(u/2),r,"l",0,c-f,"a",c,c,0,0,1,c,-c,"l",u-2*c,0,"a",c,c,0,0,1,c,c,"l",0,f-c,"z"]):(c=n(u,Math.round(f/5)),a=["M",t+.5,r+.5-~~(f/2),"l",u-c,0,"a",c,c,0,0,1,c,c,"l",0,f-c*2,"a",c,c,0,0,1,-c,c,"l",c-u,0,"z"])}return s?a.join(","):h.path(a)}function r(n,i,r,u,f,e,o){function gt(n,t,i){var f,o,r,e,u,s=[];for(o=n.toString().length,r=o-(o%3||3),e=0;e<=i;e++)f=t+(n-t)/i*e,f=Math.round(f/Math.pow(10,r)),s.push(f);return r==3?u="Miles":r==6?u="Millones":r==9?u="Miles de Millones":r==12?u="Billones":r==15?u="Miles de Billones":r==18?u="Millones de Billones":r==18&&(u="Trillones"),{units:u,scales:s}}var ct,wt,vt,ft,tt,kt,h,b,it;o=o||{};for(var ot=this,yt=o.type||"square",pt=parseFloat(o.gutter||10),v=n.set(),k=n.set(),a=n.set(),y=n.set(),p=0,c=0,dt=o.colors||ot.colors,et=e.length,st=0,rt=10,lt=0,lt=e.length;lt--;)p=Math.max(p,e[lt].rawValue);p=o.to||p;var l=u/(et*(100+pt))*100,ut=l*pt/100,w=o.vgutter==null?20:o.vgutter,g=[],d=i+ut,at=(f-2*w)/p,ht=Math.pow(10,p.toString().length);for(st=ht/rt;ht-st>p;)ht-=st;for(st=ht/rt,o.stretch||(ut=Math.round(ut),l=Math.floor(l)),o.stacked||(l/=c||1),wt=gt(p,0,rt),h=0;h<=rt;h++)ct=Math.round(w+h*((f-2*w)/rt)),n.path("M"+i+" "+(ct+r)+"L"+(u+i)+" "+(ct+r)+"L").attr({stroke:"#ddd",opacity:.8,"stroke-width":"1"}),n.text(i-8,ct+r,wt.scales[rt-h]).attr({"text-anchor":"end",fill:"#777"});for(h=0;h<et;h++){for(g=[],b=0;b<(c||1);b++){var nt=Math.round(e[h].rawValue*at),bt=r+f-w-nt,s=t(Math.round(d+l/2),bt+nt,l,nt,!0,yt,null,n).attr({stroke:"none",fill:dt[c?b:h]});c?k[b].push(s):k.push(s),s.y=bt,s.x=Math.round(d+l/2),s.w=l,s.h=nt,s.value=e[h],s.value.order=h,o.stacked?g.push(s):d+=l}if(o.stacked){for(y.push(vt=n.rect(g[0].x-g[0].w/2,r,l,f).attr(ot.shim)),vt.bars=n.set(),ft=0,tt=g.length;tt--;)g[tt].toFront();for(tt=0,kt=g.length;tt<kt;tt++){var s=g[tt],it,nt=(ft+s.value)*at,ni=t(s.x,r+f-w-!!ft*.5,l,nt,!0,yt,1,n);vt.bars.push(s),ft&&s.attr({path:ni}),s.h=nt,s.y=r+f-w-!!ft*.5-nt,a.push(it=n.rect(s.x-s.w/2,s.y,l,s.value*at).attr(ot.shim)),it.bar=s,it.value=s.value,ft+=s.value}d+=l}d+=ut}if(y.toFront(),d=i+ut,!o.stacked)for(h=0;h<et;h++){for(b=0;b<(c||1);b++)a.push(it=n.rect(Math.round(d),r+w,l,f-w).attr(ot.shim)),it.bar=c?k[b][h]:k[h],it.value=it.bar.value,d+=l;d+=ut}return v.label=function(t,i){var l,v,b,u,s,y,h;if(t=t||[],this.labels=n.set(),v=-Infinity,o.stacked)for(u=0;u<et;u++)for(b=0,s=0;s<(c||1);s++)b+=e[u].rawValue,s==c-1&&(y=n.labelise(t[u],b,p),l=n.text(k[u*(c||1)+s].x,r+f-w/2,y).attr(txtattr).insertBefore(a[u*(c||1)+s]),h=l.getBBox(),h.x-7<v?l.remove():(this.labels.push(l),v=h.x+h.width));else for(u=0;u<et;u++)for(s=0;s<(c||1);s++)y=n.labelise(c?t[s]&&t[s][u]:t[u],e[u].rawValue,p),l=n.text(k[u*(c||1)+s].x,i?r+f-w/2:k[u*(c||1)+s].y-10,y).attr(txtattr).insertBefore(a[u*(c||1)+s]),h=l.getBBox(),h.x-7<v?l.remove():(this.labels.push(l),v=h.x+h.width);return this},v.hover=function(n,t){return y.hide(),a.show(),a.mouseover(n).mouseout(t),this},v.hoverColumn=function(n,t){return a.hide(),y.show(),t=t||function(){},y.mouseover(n).mouseout(t),this},v.click=function(n){return y.hide(),a.show(),a.click(n),this},v.each=function(n){if(!Raphael.is(n,"function"))return this;for(var t=a.length;t--;)n.call(a[t]);return this},v.eachColumn=function(n){if(!Raphael.is(n,"function"))return this;for(var t=y.length;t--;)n.call(y[t]);return this},v.clickColumn=function(n){return a.hide(),y.show(),y.click(n),this},v.push(k,a,y),v.bars=k,v.covers=a,v}function f(n,i,r,u,f,e,o){var ht,d,h,ot,ut,tt,vt,s,c,it;o=o||{};var ft=this,ct=o.type||"square",st=parseFloat(o.gutter||"20%"),y=n.set(),b=n.set(),v=n.set(),p=n.set(),g=Math.max.apply(Math,e),lt=[],l=0,at=o.colors||ft.colors,w=e.length;if(Raphael.is(e[0],"array")){for(g=[],l=w,w=0,s=e.length;s--;)b.push(n.set()),g.push(Math.max.apply(Math,e[s])),w=Math.max(w,e[s].length);if(o.stacked)for(s=w;s--;){for(ht=0,c=e.length;c--;)ht+=+e[c][s]||0;lt.push(ht)}for(s=e.length;s--;)if(e[s].length<w)for(c=w;c--;)e[s].push(0);g=Math.max.apply(Math,o.stacked?lt:g)}g=o.to||g;var a=Math.floor(f/(w*(100+st)+st)*100),et=Math.floor(a*st/100),nt=[],k=r+et,rt=(u-1)/g;for(o.stacked||(a/=l||1),s=0;s<w;s++){for(nt=[],c=0;c<(l||1);c++)d=l?e[c][s]:e[s],h=t(i,k+a/2,Math.round(d*rt),a-1,!1,ct,null,n).attr({stroke:"none",fill:at[(l?c:s)%at.length]}),l?b[c].push(h):b.push(h),h.x=i+Math.round(d*rt),h.y=k+a/2,h.w=Math.round(d*rt),h.h=a,h.value=+d,o.stacked?nt.push(h):k+=a;if(o.stacked){for(ot=n.rect(i,nt[0].y-nt[0].h/2,u,a).attr(ft.shim),p.push(ot),ot.bars=n.set(),ut=0,tt=nt.length;tt--;)nt[tt].toFront();for(tt=0,vt=nt.length;tt<vt;tt++){var h=nt[tt],it,d=Math.round((ut+h.value)*rt),yt=t(i,h.y,d,a-1,!1,ct,1,n);ot.bars.push(h),ut&&h.attr({path:yt}),h.w=d,h.x=i+d,v.push(it=n.rect(i+ut*rt,h.y-h.h/2,h.value*rt,a).attr(ft.shim)),it.bar=h,ut+=h.value}k+=a}k+=et}if(p.toFront(),k=r+et,!o.stacked)for(s=0;s<w;s++){for(c=0;c<(l||1);c++)it=n.rect(i,k,u,a).attr(ft.shim),v.push(it),it.bar=l?b[c][s]:b[s],it.value=it.bar.value,k+=a;k+=et}return y.label=function(t,r){var u,f;for(t=t||[],this.labels=n.set(),u=0;u<w;u++)for(f=0;f<l;f++){var s=n.labelise(l?t[f]&&t[f][u]:t[u],l?e[f][u]:e[u],g),h=r?b[u*(l||1)+f].x-a/2+3:i+5,c=r?"end":"start",o;this.labels.push(o=n.text(h,b[u*(l||1)+f].y,s).attr(txtattr).attr({"text-anchor":c}).insertBefore(v[0])),o.getBBox().x<i+5?o.attr({x:i+5,"text-anchor":"start"}):b[u*(l||1)+f].label=o}return this},y.hover=function(n,t){return p.hide(),v.show(),t=t||function(){},v.mouseover(n).mouseout(t),this},y.hoverColumn=function(n,t){return v.hide(),p.show(),t=t||function(){},p.mouseover(n).mouseout(t),this},y.each=function(n){if(!Raphael.is(n,"function"))return this;for(var t=v.length;t--;)n.call(v[t]);return this},y.eachColumn=function(n){if(!Raphael.is(n,"function"))return this;for(var t=p.length;t--;)n.call(p[t]);return this},y.click=function(n){return p.hide(),v.show(),v.click(n),this},y.clickColumn=function(n){return v.hide(),p.show(),p.click(n),this},y.push(b,v,p),y.bars=b,y.covers=v,y}var n=Math.min,i=Math.max,u=function(){};u.prototype=Raphael.g,f.prototype=r.prototype=new u,Raphael.fn.barchart=function(n,t,i,u,f,e){return new r(this,n,t,i,u,f,e)},Raphael.fn.hbarchart=function(n,t,i,r,u,e){return new f(this,n,t,i,r,u,e)}})();
//@ sourceMappingURL=g.bar.min.js.map