define(["app/grapher/Grapher","app/network/Services"],function(n,t){function o(){this.initialize()}var u=JSON.parse($(document.body).attr("data-resourcesPerSector")),f=JSON.parse($(document.body).attr("data-resourcesPerRegion")),e=JSON.parse($(document.body).attr("data-projectsPerSector")),i=JSON.parse($(document.body).attr("data-resourcesPerDepartment")),s=doT.compile($("#template-graph-resdepto")[0].innerHTML),h=doT.compile($("#template-facts")[0].innerHTML),r=$("#infographic")[0];return o.prototype.reloadGraphs=function(n){t.infograph.consolidated(n).done(this.initialize.bind(this))},o.prototype.initialize=function(t){var l=$(r).find("#res-sector").empty()[0],a=$(r).find("#res-region").empty()[0],v=$(r).find("#proy-sector").empty()[0],y=$(r).find("#res-depto").empty(),p,c=0,o;if(u=t?t.resourcesPerSector:u,f=t?t.resourcesPerRegion:f,e=t?t.projectsPerSector:e,i=t?t.resourcesPerDepartment:i,p=n.drawSemiPie(l,135,u),n.drawSemiPie(a,180,f,!0),n.drawBars(v,e),i)for(o=0;o<i.length;o++)c=Math.max(i[o].rawValue,c);if(i)for(o=0;o<i.length;o++)i[o].valuePercent=~~(100*(i[o].rawValue/c))+"%";i&&(y[0].innerHTML=s({array:i})),t&&$(".facts").empty().html(h(t))},new o});
//@ sourceMappingURL=Infographic.min.js.map