define(function(){"use strict";function t(r,u){var c={},e,y=[],s=[],f,l,o,a=[],h="_dnp_",p,w,v;for(e in r)if(r[e].constructor==Object)c[n[e]]=t(r[e],r);else if(e=="coordinates")if(r.type=="Polygon"){for(f=0,o=0;f<r[e][0].length;f++,o+=2)s[o]=r[e][0][f][0],s[o+1]=r[e][0][f][1];c[n[e]]=s}else{for(f=0;f<r[e].length;f++){for(s=[],l=0,o=0;l<r[e][f][0].length;l++,o+=2)s[o]=r[e][f][0][l][0],s[o+1]=r[e][f][0][l][1];y[f]=s}c[n[e]]=y}else if(e=="features"){if(h+=u.type=="municipio"?"ml":u.type=="departamento"?"dl":"rl",p=+localStorage.getItem(h+"_up"),u.lastUpdated>p){for(f=0;f<r[e].length;f++)a[f]=r[e][f].properties.id,w=t(r[e][f],r),i(w);if(v=localStorage.getObject(h),v){for(f=0;f<a.length;f++)v.indexOf(a[f])==-1&&v.push(a[f]);localStorage.setObject(h,v)}else localStorage.setObject(h,a);localStorage.setItem(h+"_up",u.lastUpdated)}}else c[n[e]]=r[e];return c}function i(n){var t="_dnp_";t+=n.p.t=="departamento"?"d_"+n.p.i:n.p.t=="municipio"?"m_"+n.p.i:"r_"+n.p.i,localStorage.setObject(t,n)}function r(n){var t,r,f=[],u,i;for(n=="departments"?(t="_dnp_dl",r="_dnp_d_"):n=="municipalities"?(t="_dnp_ml",r="_dnp_m_"):(t="_dnp_rl",r="_dnp_r_"),u=localStorage.getObject(t)||[],i=0;i<u.length;i++)f[i]=localStorage.getObject(r+u[i]);return{features:f,lastUpdated:localStorage.getItem(t+"_up")}}var n={status:"s",lastUpdated:"l",type:"t",geojson:"g",features:"f",properties:"p",LAT:"LA",LON:"LO",name:"n",id:"i",geometry:"ge",coordinates:"c"};return{storeDataList:t,getDataList:r}});
//@ sourceMappingURL=Storage.min.js.map