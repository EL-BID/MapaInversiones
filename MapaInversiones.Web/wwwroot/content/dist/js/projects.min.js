define("app/utils/Modal",[],function(){function n(n){this.modal=$("<div>",{"class":"modal"***REMOVED***)[0];this.back=$("<div>",{"class":"back"***REMOVED***)[0];this.container=$("<div>",{"class":"container"***REMOVED***)[0];this.wrapper=$("<div>",{"class":"wrapper"***REMOVED***)[0];this.content=$("<div>",{"class":"content"***REMOVED***)[0];"string"==typeof n?this.content.innerHTML=n:"object"==typeof n&&$(this.content).append(n);this.wrapper.appendChild(this.content);this.back.appendChild(this.wrapper);this.modal.appendChild(this.back);$(this.wrapper).on("click",function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0***REMOVED***);$(this.back).on("click",this.hide.bind(this));$(this.wrapper).on("click",".close",this.hide.bind(this))***REMOVED***var t=doT.compile('<div class="error"><h1>Error<\/h1><p>{{=it.message***REMOVED******REMOVED***<\/p><div class="txt-right"><a class="button close">Cerrar<\/a><\/div><\/div>'),i=doT.compile('<div class="info"><h1>Información<\/h1><p>{{=it.message***REMOVED******REMOVED***<\/p><div class="txt-right"><a class="button close">Cerrar<\/a><\/div><\/div>');return n.prototype.addClass=function(n){return $(this.modal).addClass(n),this***REMOVED***,n.prototype.show=function(){$("html").css("overflow","hidden");document.body.appendChild(this.modal);this.modal.style.display="block"***REMOVED***,n.prototype.hide=function(){$("html").css("overflow","visible");this.modal.style.display="none";try{document.body.removeChild(this.modal)***REMOVED***catch(n){***REMOVED******REMOVED***,n.prototype.getElement=function(){return this.modal***REMOVED***,n.info=function(t){return new n(i({message:t***REMOVED***))***REMOVED***,n.error=function(i){return new n(t({message:i***REMOVED***))***REMOVED***,n***REMOVED***);define("app/network/urlsMap",{root:window.location.protocol+"//"+window.location.host,filtersProjects:"/api/FiltrosTotales/GetFiltros",departments:"/api/poligonos/departamento/",regions:"/api/poligonos/region/",municipalities:"/api/poligonos/municipio/",searchProjects:"/api/serviciosproyectos/busqueda",searchProjectsList:"/api/serviciosproyectos/listado",consolidated:"/api/datosconsolidados/",infoboxesResources:"/api/Recursos/GetInfograficosRecursos",searchResources:"/api/Recursos/GetPushPinsRecursos",consolidatedResources:"/api/Recursos/GetDataGraficasConsolidados",getBudget:"/api/Recursos/GetInformacionPresupuesto",getDistribution:"/api/Recursos/GetInformacionDistribucion",getOutlay:"/api/Recursos/GetInformacionGiros",getAprovedProyects:"/api/Proyectos/GetOtrosProyectosAprobados",getExecuted:"/api/Recursos/GetInformacionValorEjecutadoProyectos",getValueAproved:"/api/Recursos/GetInformacionValorAprobadoProyectos",getPerformance:"/api/Recursos/GetInformacionRendimientosDirectas",getRegalias:"/api/Recursos/GetInformacionLiquidacion",infoboxesProduction:"/api/produccion/GetInfograficosProduccion",getFieldOrMine:"/api/produccion/GetCampoOMinasPorGeografia",searchProduction:"/api/produccion/GetPushPinsProduccion",consolidatedProduction:"/api/produccion/GetDataGraficasConsolidados",getProductionInfo:"/api/produccion/GetInformacionProduccion",getFieldInfo:"/api/produccion/GetProduccionCampoOMina",infoboxesFiscalizacion:"/api/fiscalizacion/GetInfoboxes/",searchFiscalizacion:"/api/Fiscalizacion/GetPushPins/",actividadesFiscalizacion:"/api/Fiscalizacion/GetActividadesFiscalizacion/",consolidatedFiscalizacion:"/api/fiscalizacion/GetDataGraficasFiscalizacion",contact:"/api/Mail/setMail",sendByEmail:"/api/Correo/EnviarCorreo",texts:"/api/Textos/GetTextoParametrico"***REMOVED***);define("app/utils/ContactForm",["../network/urlsMap"],function(n){function u(t){var h,i,u=$(this).find("input, textarea");return t.preventDefault(),r&&!t.target.checkValidity()?(c&&(i=f(u),i||t.preventDefault()),!1):r||(h=e(u))?($.ajax({url:n.contact,data:$(this).serialize()***REMOVED***).done(o).fail(s),!1):!1***REMOVED***function f(n){for(var r,u=n.length,f=!0;u--;)r=n[u],r.checkValidity()?i(r):(r.validity.typeMismatch&&"email"==r.type?t(r,"No es un correo válido"):r.validity.valueMissing&&t(r,"Este campo es obligatorio"),f=!1);return f***REMOVED***function e(n){for(var r,f=n.length,u=!0;f--;)r=n[f],"email"!=r.type||r.value.match(l)?r.value.length?i(r):(t(r,"Este campo es obligatorio"),u=!1):(t(r,"No es un correo válido"),u=!1);return u***REMOVED***function t(n,t){n=$(n).addClass("error");var i=n.next();i.hasClass("errorMessage")||(i=$("<div>",{"class":"errorMessage"***REMOVED***),n.after(i));i.html(t)***REMOVED***function i(n){$(n).removeClass("error").next(".errorMessage").remove()***REMOVED***function o(){var n=$("<div>",{"class":"statusMessage"***REMOVED***);n.html("Su mensaje ha sido enviado con éxito");$(".js-contact-form").empty().append(n)***REMOVED***function s(){var n=$("<div>",{"class":"statusMessage statusError"***REMOVED***);n.html("No se pudo enviar el mensaje");$(".js-contact-form").empty().append(n)***REMOVED***var h=document.createElement("input"),r="checkValidity"in h,c=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,l=/@/;$(".js-contact-form").on("submit",u)***REMOVED***);define("app/storage/Storage",[],function(){function t(r,u){var e,f,c,o,l={***REMOVED***,y=[],s=[],a=[],h="_dnp_",p,w,v;for(e in r)if(r[e].constructor==Object)l[n[e]]=t(r[e],r);else if("coordinates"==e)if("Polygon"==r.type){for(f=0,o=0;f<r[e][0].length;f++,o+=2)s[o]=r[e][0][f][0],s[o+1]=r[e][0][f][1];l[n[e]]=s***REMOVED***else{for(f=0;f<r[e].length;f++){for(s=[],c=0,o=0;c<r[e][f][0].length;c++,o+=2)s[o]=r[e][f][0][c][0],s[o+1]=r[e][f][0][c][1];y[f]=s***REMOVED***l[n[e]]=y***REMOVED***else if("features"==e){if(h+="municipio"==u.type?"ml":"departamento"==u.type?"dl":"rl",p=+localStorage.getItem(h+"_up"),u.lastUpdated>p){for(f=0;f<r[e].length;f++)a[f]=r[e][f].properties.id,w=t(r[e][f],r),i(w);if(v=localStorage.getObject(h),v){for(f=0;f<a.length;f++)-1==v.indexOf(a[f])&&v.push(a[f]);localStorage.setObject(h,v)***REMOVED***else localStorage.setObject(h,a);localStorage.setItem(h+"_up",u.lastUpdated)***REMOVED******REMOVED***else l[n[e]]=r[e];return l***REMOVED***function i(n){var t="_dnp_";t+="departamento"==n.p.t?"d_"+n.p.i:"municipio"==n.p.t?"m_"+n.p.i:"r_"+n.p.i;localStorage.setObject(t,n)***REMOVED***function r(n){var t,r,u,f=[],i;for("departments"==n?(t="_dnp_dl",r="_dnp_d_"):"municipalities"==n?(t="_dnp_ml",r="_dnp_m_"):(t="_dnp_rl",r="_dnp_r_"),u=localStorage.getObject(t)||[],i=0;i<u.length;i++)f[i]=localStorage.getObject(r+u[i]);return{features:f,lastUpdated:localStorage.getItem(t+"_up")***REMOVED******REMOVED***var n={status:"s",lastUpdated:"l",type:"t",geojson:"g",features:"f",properties:"p",LAT:"LA",LON:"LO",name:"n",id:"i",geometry:"ge",coordinates:"c"***REMOVED***;return{storeDataList:t,getDataList:r***REMOVED******REMOVED***);define("lib/jquery/mockjax",[],function(){!function(n){function s(t){var i,u,f;void 0==window.DOMParser&&window.ActiveXObject&&(DOMParser=function(){***REMOVED***,DOMParser.prototype.parseFromString=function(n){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(n),t***REMOVED***);try{if(i=(new DOMParser).parseFromString(t,"text/xml"),!n.isXMLDoc(i))throw"Unable to parse XML";if(u=n("parsererror",i),1==u.length)throw"Error: "+n(i).text();***REMOVED***catch(r){return f=void 0==r.name?r:r.name+": "+r.message,void n(document).trigger("xmlParseError",[f])***REMOVED***return i***REMOVED***function u(t,i,r){(t.context?n(t.context):n.event).trigger(i,r)***REMOVED***function f(t,i){var r=!1;return"string"==typeof i?n.isFunction(t.test)?t.test(i):t==i:(n.each(t,function(u){return void 0===i[u]?r=!1:(r=!0,"object"==typeof i[u]?f(t[u],i[u]):r=n.isFunction(t[u].test)?t[u].test(i[u]):t[u]==i[u])***REMOVED***),r)***REMOVED***function h(t,i){if(n.isFunction(t))return t(i);if(n.isFunction(t.url.test)){if(!t.url.test(i.url))return null***REMOVED***else{var r=t.url.indexOf("*");if(t.url!==i.url&&-1===r||!new RegExp(t.url.replace(/[-[\]{***REMOVED***()+?.,\\^$|#\s]/g,"\\$&").replace("*",".+")).test(i.url))return null***REMOVED***return t.data&&i.data&&!f(t.data,i.data)?null:t&&t.type&&t.type.toLowerCase()!=i.type.toLowerCase()?null:t***REMOVED***function c(t,i){if(window.console&&console.log){var r="MOCK "+i.type.toUpperCase()+": "+i.url,u=n.extend({***REMOVED***,i);if("function"==typeof console.log)console.log(r,u);else try{console.log(r+" "+JSON.stringify(u))***REMOVED***catch(f){console.log(r)***REMOVED******REMOVED******REMOVED***function l(t,i,u){var f=function(r){return function(){return function(){this.status=t.status;this.statusText=t.statusText;this.readyState=4;n.isFunction(t.response)&&t.response(u);"json"==i.dataType&&"object"==typeof t.responseText?this.responseText=JSON.stringify(t.responseText):"xml"==i.dataType?this.responseXML="string"==typeof t.responseXML?s(t.responseXML):t.responseXML:this.responseText=t.responseText;("number"==typeof t.status||"string"==typeof t.status)&&(this.status=t.status);"string"==typeof t.statusText&&(this.statusText=t.statusText);n.isFunction(this.onreadystatechange)?(t.isTimeout&&(this.status=-1),this.onreadystatechange(t.isTimeout?"timeout":void 0)):t.isTimeout&&(this.status=-1)***REMOVED***.apply(r)***REMOVED******REMOVED***(this);t.proxy?r({global:!1,url:t.proxy,type:t.proxyType,data:t.data,dataType:"script"===i.dataType?"text/plain":i.dataType,complete:function(n){t.responseXML=n.responseXML;t.responseText=n.responseText;t.status=n.status;t.statusText=n.statusText;this.responseTimer=setTimeout(f,t.responseTime||0)***REMOVED******REMOVED***):i.async===!1?f():this.responseTimer=setTimeout(f,t.responseTime||50)***REMOVED***function a(t,i,r,u){return t=n.extend(!0,{***REMOVED***,n.mockjaxSettings,t),"undefined"==typeof t.headers&&(t.headers={***REMOVED***),t.contentType&&(t.headers["content-type"]=t.contentType),{status:t.status,statusText:t.statusText,readyState:1,open:function(){***REMOVED***,send:function(){u.fired=!0;l.call(this,t,i,r)***REMOVED***,abort:function(){clearTimeout(this.responseTimer)***REMOVED***,setRequestHeader:function(n,i){t.headers[n]=i***REMOVED***,getResponseHeader:function(n){return t.headers&&t.headers[n]?t.headers[n]:"last-modified"==n.toLowerCase()?t.lastModified||(new Date).toString():"etag"==n.toLowerCase()?t.etag||"":"content-type"==n.toLowerCase()?t.contentType||"text/plain":void 0***REMOVED***,getAllResponseHeaders:function(){var i="";return n.each(t.headers,function(n,t){i+=n+": "+t+"\n"***REMOVED***),i***REMOVED******REMOVED******REMOVED***function v(n,t,r){var f;if(y(n),n.dataType="json",n.data&&i.test(n.data)||i.test(n.url)){w(n,t);var u=/^(\w+:)?\/\/([^\/?#]+)/.exec(n.url),e=u&&(u[1]&&u[1]!==location.protocol||u[2]!==location.host);if(n.dataType="script","GET"===n.type.toUpperCase()&&e)return f=p(n,t,r),f?f:!0***REMOVED***return null***REMOVED***function y(n){"GET"===n.type.toUpperCase()?i.test(n.url)||(n.url+=(/\?/.test(n.url)?"&":"?")+(n.jsonp||"callback")+"=?"):n.data&&i.test(n.data)||(n.data=(n.data?n.data+"&":"")+(n.jsonp||"callback")+"=?")***REMOVED***function p(t,i,r){var f=r&&r.context||t,u=null;return i.response&&n.isFunction(i.response)?i.response(r):n.globalEval("object"==typeof i.responseText?"("+JSON.stringify(i.responseText)+")":"("+i.responseText+")"),e(t,i),o(t,i),n.Deferred&&(u=new n.Deferred,"object"==typeof i.responseText?u.resolveWith(f,[i.responseText]):u.resolveWith(f,[n.parseJSON(i.responseText)])),u***REMOVED***function w(n,t){jsonp=n.jsonpCallback||"jsonp"+d++;n.data&&(n.data=(n.data+"").replace(i,"="+jsonp+"$1"));n.url=n.url.replace(i,"="+jsonp+"$1");window[jsonp]=window[jsonp]||function(i){data=i;e(n,t);o(n,t);window[jsonp]=void 0;try{delete window[jsonp]***REMOVED***catch(r){***REMOVED***head&&head.removeChild(script)***REMOVED******REMOVED***function e(n,t){n.success&&n.success.call(callbackContext,t.response?t.response.toString():t.responseText||"",status,{***REMOVED***);n.global&&u(n,"ajaxSuccess",[{***REMOVED***,n])***REMOVED***function o(t){t.complete&&t.complete.call(callbackContext,{***REMOVED***,status);t.global&&u("ajaxComplete",[{***REMOVED***,t]);t.global&&!--n.active&&n.event.trigger("ajaxStop")***REMOVED***function b(i,u){var s,f,e,o;for("object"==typeof i?(u=i,i=void 0):u.url=i,f=n.extend(!0,{***REMOVED***,n.ajaxSettings,u),o=0;o<t.length;o++)if(t[o]&&(e=h(t[o],f)))return c(e,f),"jsonp"===f.dataType&&(s=v(f,e,u))?s:(e.cache=f.cache,e.timeout=f.timeout,e.global=f.global,k(e,u),function(t,i,u,f){s=r.call(n,n.extend(!0,{***REMOVED***,u,{xhr:function(){return a(t,i,u,f)***REMOVED******REMOVED***))***REMOVED***(e,f,u,t[o]),s);return r.apply(n,[u])***REMOVED***function k(n,t){var i,f;if(!(!n.url instanceof RegExp)&&n.hasOwnProperty("urlParams")&&(i=n.url.exec(t.url),1!==i.length)){i.shift();var r=0,e=i.length,o=n.urlParams.length,s=Math.min(e,o),u={***REMOVED***;for(r;s>r;r++)f=n.urlParams[r],u[f]=i[r];t.urlParams=u***REMOVED******REMOVED***var r=n.ajax,t=[],i=/=\?(&|$)/,d=(new Date).getTime();n.extend({ajax:b***REMOVED***);n.mockjaxSettings={log:function(){if(window.console&&window.console.log){var n=Function.prototype.bind.call(console.log,console);n.apply(console,arguments)***REMOVED******REMOVED***,status:200,statusText:"OK",responseTime:500,isTimeout:!1,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"***REMOVED******REMOVED***;n.mockjax=function(n){var i=t.length;return t[i]=n,i***REMOVED***;n.mockjaxClear=function(n){1==arguments.length?t[n]=null:t=[]***REMOVED***;n.mockjax.handler=function(n){if(1==arguments.length)return t[n]***REMOVED******REMOVED***(window.jQuery)***REMOVED***);define("app/network/Services",["./urlsMap","../storage/Storage","app/utils/Modal","lib/jquery/mockjax"],function(n,t,i){function l(n){return n in document.documentElement.style***REMOVED***function r(n,t,r,f){if(f=f||v,c){var e=$.ajax({url:pt+n,data:t,settings:{cache:a(n,t)***REMOVED******REMOVED***);return e.pipe(function(n,t){var r;return n.status||"abort"==t||(r=i.error(n.message),r.show()),n.status&&n.message&&(r=i.info(n.message),r.show()),n.status***REMOVED***,function(n,t){var r;return(!n.status&&"abort"!=t,n.message&&"abort"!=t)&&(r=i.error(n.message),r.show()),!n.status***REMOVED***),e.fail(f).error(f),r&&e.done(r),e***REMOVED***return u.push({url:n,data:t,callback:r,errorCb:f,done:function(n){this.cb=this.cb||[];this.cb.push(n)***REMOVED******REMOVED***),u[u.length-1]***REMOVED***function a(n,t){var i=n+"::"+JSON.stringify(t);return h[i]?!0:(h[i]=!0,!1)***REMOVED***function v(){***REMOVED***function o(i,u,f){var e=f&&f.lastUpdated?{lastUpdated:f.lastUpdated***REMOVED***:{***REMOVED***;r(n[i],e,function(n){if(n.geojson&&n.geojson.features)try{yt?u(n.geojson):(t.storeDataList(n),u(t.getDataList(i)))***REMOVED***catch(r){"localStorage"in window&&window.localStorage.clear();u(n.geojson)***REMOVED***else u(f)***REMOVED***)***REMOVED***function f(n,i){var r=t.getDataList(n);r.features.length?o(n,i,r):o(n,i)***REMOVED***function y(n){f("departments",n)***REMOVED***function p(n){f("regions",n)***REMOVED***function w(n){f("municipalities",n)***REMOVED***function b(){return r(n.filtersProjects)***REMOVED***function k(t,i,u){return u=u||{***REMOVED***,"Proyectos"===t?u.isList?r(n.searchProjectsList,i):r(n.searchProjects,i):"Recursos"===t?u.pushpins?r(n.infoboxesResources,i):r(n.searchResources,i):"Produccion"===t?u.pushpins?r(n.infoboxesProduction,i):r(n.searchProduction,i):"Fiscalizacion"===t?u.pushpins?r(n.infoboxesFiscalizacion,i):r(n.searchFiscalizacion,i):void 0***REMOVED***function d(t){return r(n.texts,{id:t***REMOVED***)***REMOVED***function g(t){return r(n.consolidated,t)***REMOVED***function nt(t){return r(n.getBudget,t)***REMOVED***function tt(t){return r(n.getDistribution,t)***REMOVED***function it(t){return r(n.getOutlay,t)***REMOVED***function s(t){return r(n.getAprovedProyects,t)***REMOVED***function rt(t){return r(n.getExecuted,t)***REMOVED***function ut(t){return r(n.getRegalias,t)***REMOVED***function ft(t){return r(n.getValueAproved,t)***REMOVED***function et(t){return r(n.getPerformance,t)***REMOVED***function ot(t){return r(n.consolidatedResources,t)***REMOVED***function st(t){return r(n.consolidatedProduction,t)***REMOVED***function ht(t){return r(n.consolidatedFiscalizacion,t)***REMOVED***function ct(t){return r(n.getProductionInfo,t)***REMOVED***function lt(n,t){return r(n,t)***REMOVED***function at(n){var t=n.split("?");return r(t[0],t[1])***REMOVED***function vt(t){return r(n.sendByEmail,t)***REMOVED***var e=!!$(document.body).attr("data-debug"),h={***REMOVED***,c=!e,u=[],yt=!1||l("msTransform"),pt=e?"":window.location.protocol+"//"+window.location.host;return window.appVersion={Name:"Mapa Regalias",Version:"0.3.2"***REMOVED***,e&&require(["app/network/debugQueries"],function(){var n,t;if(c=!0,u.length)for(n=0;n<u.length;n++)t=r(u[n].url,u[n].data,u[n].callback,u[n].errorCb),u[n].cb&&t.done(u[n].cb)***REMOVED***),$(document).on("click",".submenu a",function(n){n.preventDefault();n.stopPropagation();var i=$(this).attr("href"),t=$(this).attr("data-value");window.location.href=i;$(".map-container").attr("data-option-subtipo","fiscalizacion-option-subtipo-"+t);$('.buttons-filter-fiscalization a[data-value="'+t+'"]').trigger("click")***REMOVED***),$(document).on("click",".buttons-filter-fiscalization a",function(n){n.preventDefault();var t=$(this),i=t.attr("data-value"),r=$('.filter-group[data-parameter=campoProyectoFiscalizacion] .filter-list input[type="text"]'),u=($(".filter-group[data-parameter=campoProyectoFiscalizacion] .filter-list .filter button"),$(".filter-group[data-parameter=campoProyectoFiscalizacion] .filter-list .options .option.selected")),f=t.attr("data-text-filter");$(".buttons-filter-fiscalization a").removeClass("active");t.addClass("active");$(".filter-group[data-parameter=campoProyectoFiscalizacion] .txt").text(f);""!=r.val()&&u.trigger("click");$('.filter-group[data-parameter=tipoRecursoNaturalFiscalizacion] .option[data-value="'+i+'"]').trigger("click")***REMOVED***),{polygons:{getDepartments:y,getRegions:p,getMunicipalities:w***REMOVED***,filters:{forProjects:b***REMOVED***,search:k,resources:{presupuesto:nt,distribuido:tt,giros:it,aprobado:s,ejecutado:rt,regalias:ut,valorAprobado:ft,rendimiento:et***REMOVED***,production:{productionInfo:ct,fieldInfo:lt,aproved:s***REMOVED***,infograph:{consolidated:g,resources:ot,production:st,fiscalizacion:ht***REMOVED***,projectsList:at,sendByEmail:vt,texts:d***REMOVED******REMOVED***);define("app/utils/MailSharer",["app/network/Services","app/utils/Modal"],function(n,t){function u(){var n=$(this);return i.appendTo(document.body).css({left:n.offset().left,top:n.offset().top***REMOVED***).show(),$(document).on("click",r),!1***REMOVED***function f(t){var r=location.href+"\n\n";return i.addClass("loading"),n.sendByEmail("to="+encodeURIComponent(i.find("#field-email").val())+"&body="+encodeURIComponent(r+i.find("#field-message").val())).done(e).fail(o),t.preventDefault?t.preventDefault():t.returnValue=!1,!1***REMOVED***function r(n){n&&0!=$(n.target).parents(".mail-sharer").length||(i.hide().detach(),$(document).off("click",r))***REMOVED***function e(n){if(i.removeClass("loading"),n.status){i.find("#field-email").val("");i.find("#field-message").val("");var u=n.message||"Esta página ha sido compartida con éxito al correo: "+i.find("#field-email").val()+".";r();t.info(u).show()***REMOVED******REMOVED***function o(){i.removeClass("loading")***REMOVED***var s=$("[data-share-by-email]"),i=$('<form class="mail-sharer"><h3 class="title">Comparte por Correo Electrónico<\/h3><div class="field"><label for="field-email">Correo electrónico:<\/label><input type="email" id="field-email" name="to"><\/div><div class="field"><label for="field-message">Mensaje:<\/label><textarea id="field-message" name="subject"><\/textarea><\/div><div class="txt-right"><button type="submit">Enviar<\/button><\/div><div class="loader"><\/div><\/form>');s.on("click",u);i.on("submit",f)***REMOVED***);define("utils/beta",["app/utils/Modal"],function(n){function r(){s.slideToggle();u.toggleClass("open")***REMOVED***var t=$(".beta-notification"),u=t.find(".beta-notification__header"),o=t.find(".close-notification"),s=t.find(".beta-notification__description"),f,i,e;u.on("click",r);o.on("click",r);$(document).on("mouseenter",".tooltip",function(){$(".info-tool",this).fadeIn("fast")***REMOVED***).on("mouseleave",".tooltip",function(){$(".info-tool",this).fadeOut("fast")***REMOVED***);f=new n('<iframe src="//player.vimeo.com/video/98644859?portrait=0&amp;badge=0" width="700" height="410" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""><\/iframe>');$(".get-video-regalias").on("click",function(){f.show();$(".modal .wrapper").css("width",700)***REMOVED***);i=$(".main-content__consolidated-tabbed");e=$(".main-content__type-filters__link");e.click(function(){var n=($(this),$(this).attr("href"));return"#/fiscalizacion"==n?i.fadeIn():i.fadeOut(),!1***REMOVED***)***REMOVED***);define("projects",["app/utils/Modal","app/utils/ContactForm","app/utils/MailSharer","utils/beta"],function(n){function r(){$("#dataslide").find(".data:visible").slideUp("slow");$(".goals .controls .date").html($('#dataslide li[data-slide="'+v.getCurrentSlide()+'"]').attr("data-year"));$(".bardata").find(".ico-plus").removeClass("on")***REMOVED***function s(n){var t=0;n.each(function(){$(this).height()>t&&(t=$(this).height())***REMOVED***);e=t***REMOVED***function h(){$(".fill").each(function(){$(this).animate({width:Math.min(parseInt($(this).attr("data-fill"),10),100)+"%"***REMOVED***,1200,"linear")***REMOVED***)***REMOVED***function i(n,t){$(".spotlight").animate({height:500***REMOVED***,300,function(){$(".spotlight-image").html('<img src="'+n+'"><p class="copy">'+t+"<\/p>");$(".spotlight .photo-left, .spotlight .photo-right").animate({opacity:1***REMOVED***,600)***REMOVED***)***REMOVED***function u(n){return $('#photos-slide .photo[data-slide="'+n+'"]')[0]***REMOVED***function c(){for(var t=$(".map-container .project-value"),i=t.find("span"),n=t.find("i");i.css("width")<n.css("width");)n.css("font-size",parseInt(n.css("font-size"),10)-1)***REMOVED***function l(){var n=0;$("#related li").each(function(t,i){n=Math.max($(i).height(),n)***REMOVED***).css("height",n)***REMOVED***function f(n){var t,i,r=400,u=300,f="status=no,height="+u+",width="+r+",resizable=yes,left="+t+",top="+i+",screenX="+t+",screenY="+i+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no";t=window.screen.width/2-(r/2+10);i=window.screen.height/2-(u/2+50);window.open(n,"sharer",f)***REMOVED***function a(n){var t=$.Deferred(),r=function(n,t){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(n,t,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(n,t)):i=null,i***REMOVED***,i=r("GET",n);return i.onload=function(){t.resolve()***REMOVED***,i.onerror=function(){t.reject()***REMOVED***,i.send(),t***REMOVED***var e;s($("#dataslide .element"));h();var v=$("#dataslide").bxSlider({adaptiveHeight:!0,nextText:">",prevText:"<",pager:!1,nextSelector:".goals .right",prevSelector:".goals .left",onSlideNext:function(){r()***REMOVED***,onSlidePrev:function(){r()***REMOVED***,onSlideAfter:function(){***REMOVED******REMOVED***),o=$("#dataslide-finance").bxSlider({adaptiveHeight:!0,nextText:">",prevText:"<",pager:!1,nextSelector:".financing .right",prevSelector:".financing .left",onSlideNext:function(){$("#dataslide-finance").parents(".bx-wrapper").prev().find(".date").html($('#dataslide-finance li[data-slide="'+o.getCurrentSlide()+'"]').attr("data-year"))***REMOVED***,onSlidePrev:function(){$("#dataslide-finance").parents(".bx-wrapper").prev().find(".date").html($('#dataslide-finance li[data-slide="'+o.getCurrentSlide()+'"]').attr("data-year"))***REMOVED***,onSlideAfter:function(){***REMOVED******REMOVED***),t=$("#photos-slide").bxSlider({minSlides:1,maxSlides:6,moveSlides:1,slideWidth:140,nextText:"",prevText:"",pager:!1,slideMargin:15,nextSelector:".photo-right",prevSelector:".photo-left",onSliderLoad:function(){$("#photos .bx-viewport").css("height",220)***REMOVED******REMOVED***);$(".spotlight .photo-right a").on("click",function(){var n,r,f;return t.goToNextSlide(),n=u(t.getCurrentSlide()),f=$(n).attr("data-text"),r=$(n).attr("data-big"),i(r,f),!1***REMOVED***);$(".spotlight .photo-left a").on("click",function(){var n,r,f;return t.goToPrevSlide(),n=u(t.getCurrentSlide()),f=$(n).attr("data-text"),r=$(n).attr("data-big"),i(r,f),!1***REMOVED***);$("#photos li .photo").on("click",function(n){var r=$(this).attr("data-big"),u=$(this).attr("data-text");n.preventDefault();i(r,u);t.goToSlide(parseInt($(this).attr("data-slide"),10))***REMOVED***);$(".bardata a").on("click",function(n){if(n.preventDefault(),"none"===$(this).parent().find(".data").css("display")){var t=$(this).parents(".element").height(),i=$(this).parents(".element").find(".data").height()+34;$(this).parent().find(".data").slideDown("normal",function(){$(this).parents(".bx-viewport").animate({height:$(this).parents(".element").height()+34***REMOVED***)***REMOVED***).before(function(){$(this).parents(".bx-viewport").animate({height:t+i***REMOVED***);$(this).parent().find(".ico-plus").toggleClass("on")***REMOVED***)***REMOVED***else $(this).parent().find(".data").slideUp("normal",function(){$(this).parents(".bx-viewport").animate({height:$(this).parents(".element").height()+34***REMOVED***)***REMOVED***).before(function(){$(".dataslide").animate({height:e***REMOVED***)***REMOVED***),$(this).parent().find(".ico-plus").toggleClass("on");return!1***REMOVED***);$(".social-share .fb").on("click",function(){return f("http://www.facebook.com/sharer.php?u="+encodeURIComponent(window.location.href)+"&t="+encodeURIComponent(document.title)),!1***REMOVED***);$(".social-share .tweet").on("click",function(){return f("https://twitter.com/intent/tweet?url="+encodeURIComponent(window.location.href)+"&text="+encodeURIComponent(document.title)),!1***REMOVED***);$(".social-share .print").on("click",function(){return print(),!1***REMOVED***);$(document).on("click",".project-accordion__title",function(){$(this).toggleClass("open").next().slideToggle()***REMOVED***);$(".view-visible-auditories").on("click",function(){var t=this.getAttribute("href");return a(t).done(function(){var i=$('<h2><button class="close">X<\/button> Auditoría Visible '+$(".project-approvers .text").first().text().replace("OCAD ","")+'<\/h2><iframe src="/content/js/lib/pdf/web/viewer.html?file='+t+'">'),r=new n(i);r.addClass("pdf-viewer").show();i.find(".close").on("click",function(){r.hide()***REMOVED***)***REMOVED***).fail(function(){window.open(t)***REMOVED***),!1***REMOVED***);c();l()***REMOVED***);
//# sourceMappingURL=projects.min.js.map
