@inject OrchardCore.IOrchardHelper Orchard
@inject Microsoft.Extensions.Configuration.IConfiguration Configuration
@using PlataformaTransparencia.Modelos.Comunes

@{
    var headerModel = new HeaderViewModel
    {
        HabilitarChatBot = Configuration.GetValue<bool>("HabilitarChatBot"),
        ChatBotUrl = Configuration.GetValue<string>("ChatBotUrl")
    };
}

<!DOCTYPE html>
<html lang="@Orchard.CultureName()">
<head>
    <meta charset="utf-8" />
    <!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">-->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="description" content="Plataforma de trazabilidad de inversiones públicas, accede a información detallada sobre presupuesto, instituciones, contratos y proyectos en República Dominicana" />
    <meta name="author" content="Gobierno de la República Dominicana" />
    <title>MapaInversiones República Dominicana - Iniciativa de MapaInversiones</title>
    <!-- Favicon-->
    <link rel="apple-touch-icon" sizes="180x180" href="~/assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="~/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="~/assets/favicon-16x16.png">
    <link rel="manifest" href="~/assets/site.webmanifest">
    <link rel="mask-icon" href="~/assets/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <link rel="icon" type="image/x-icon" href="~/assets/favicon.ico" />
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- FONTS-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="preload" href="~/assets/fonts/material-design-icons/material-design-icons.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="~/assets/fonts/material-design-icons/material-design-icons-outlined.woff2" as="font" type="font/woff2" crossorigin>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="~/css/jquery-ui.css" rel="stylesheet" />
    <link href="~/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/css/styles.css" rel="stylesheet" />
    <link href="~/css/glide.core.min.css" rel="stylesheet" />
    <link href="~/css/basic-skin.css" rel="stylesheet" />
    <link href="~/css/libs.css" rel="stylesheet" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!--CHAT BOT COMPONENT -->
    <link href="~/css/czm-chat-support.css" rel="stylesheet">
    <script src="~/js/jquery/jquery.min.js" type="text/javascript"></script>

    @if (IsSectionDefined("Styles"))
    {
        RenderSection("Styles", required: false);
    }

</head>

<!body class="d-flex flex-column h-100">

<div id="data-body-container" class="d-none">
    @RenderSection("DataBody", required: false)
</div>

<!-- Begin mobile main menu -->
<nav class="mob-main-mnu">
    <div class="mob-main-mnu-content">
        @{
            var menu = await Orchard.GetContentItemByHandleAsync("alias:second-menu");
            <ul class="mob-main-mnu-list">
                @foreach (var menuitem in menu.Content.MenuItemsListPart.MenuItems)
                {
                    @if (@menuitem.LinkMenuItemPart.Name != null)
                    {
                        var enlace = @menuitem.LinkMenuItemPart.Url;
                        var enlace_aux = "#!";
                        if (enlace != "")
                        {
                            enlace_aux = enlace;
                        }
                    <li>

                        @if (menuitem.MenuItemsListPart != null)
                        {
                            <a href="#!">@menuitem.LinkMenuItemPart.Name</a>
                            <div class="mmm-btn"><i class="material-icons md-24">expand_more</i></div>
                            var cant = @menuitem.MenuItemsListPart.MenuItems.Count;
                            if (@cant > 0)
                            {
                                <div class="mob-main-submnu">
                                    <div class="mob-main-submnu-item">
                                        <ul>
                                            @foreach (var submenu in menuitem.MenuItemsListPart.MenuItems)
                                            {
                                                @if (@submenu.LinkMenuItemPart.Name != null)
                                                {
                                                    var enlace_sub = @submenu.LinkMenuItemPart.Url;
                                                    var enlace_sub_aux = "#!";
                                                    if (enlace_sub != "")
                                                    {
                                                        enlace_sub_aux = enlace_sub;
                                                    }
                                                <li>
                                                    <a href="@enlace_sub_aux" data-title="@submenu.LinkMenuItemPart.Name">
                                                        <span>@submenu.LinkMenuItemPart.Name</span>
                                                    </a>
                                                </li>
                                            }
                                            }
                                        </ul>
                                    </div>
                                </div>
                            }

                        }
                        else
                        {
                        <a href="@enlace_aux" data-title="@menuitem.LinkMenuItemPart.Name">
                            <span>@menuitem.LinkMenuItemPart.Name</span>
                        </a>
                        }
                    </li>
                }
                }
            </ul>
        }
    </div>
    <div class="mob-main-mnu-footer">
        <p>Con el apoyo del Banco Interamericano de Desarrollo - BID</p>
    </div>
</nav>
<!-- End mobile main menu -->
<!-- Begin header -->
@await Html.PartialAsync("Header", headerModel)
<div class="flex-shrink-0">
    <!-- Navigation-->
    <!-- Header-->
    @RenderBody()
</div>

<!-- FOOTER -->
@await Html.PartialAsync("Footer")
<!-- End footer -->
<!-- Desactiva AMD momentáneamente -->
<script>window._define = window.define; window.define = undefined;</script>

@* <script src="~/js/bootstrap/bootstrap.bundle.min.js"></script> *@
<script src="~/js/lozad/lozad.min.js"></script>
<script src="~/js/jquery.popupoverlay.js"></script>
@* <script src="~/js/autosize.min.js"></script> *@

<!-- Reactiva AMD para RequireJS -->
<script>window.define = window._define; delete window._define;</script>

<!--CHAT BUBBLE	-->
<script src="~/js/czm-chat-support.min.js"></script>
<script src="~/js/custom.js" type="text/javascript"></script>
<script type="text/javascript">
    $('#helpCenter').czmChatSupport({

        /* Button Settings */
        button: {
            position: "right", /* left, right or false. "position:false" does not pin to the left or right */
            style: 3, /* Button style. Number between 1 and 7 */
            src: '<i class="material-icons md-22">help</i>', /* Image, Icon or SVG */
            backgroundColor: "#0256b3", /* Html color code */
            effect: 1, /* Button effect. Number between 1 and 7 */
            notificationNumber: false, /* Custom text or false. To remove, (notificationNumber:false) */
            speechBubble: false, /* To remove, (speechBubble:false) */
            pulseEffect: false, /* To remove, (pulseEffect:false) */
            text: { /* For Button style larger than 1 */
                title: "¿Preguntas?", /* Writing is required */
                description: false, /* To remove, (description:false) */
                online: false, /* To remove, (online:false) */
                offline: false /* To remove, (offline:false) */
            }
        },

        /* Popup Settings */
        popup: {
            automaticOpen: false, /* true or false (Open popup automatically when the page is loaded) */
            outsideClickClosePopup: true, /* true or false (Clicking anywhere on the page will close the popup) */
            effect: 3, /* Popup opening effect. Number between 1 and 15 */
            header: {
                backgroundColor: "#0256b3", /* Html color code */
                title: "¿Preguntas?", /* Writing is required */
                description: "Consulte nuestro centro de ayuda para obtener mayor información de esta plataforma" /* To remove, (description:false) */
            },

            /* Representative Settings */
            persons: [


                /* [::End Copy::] */
                /* Copy for more representatives [::Start Copy::] */
                {
                    avatar: {
                        src: '<i class="material-icons md-22">arrow-right</i>', /* Image, Icon or SVG */
                        backgroundColor: "#0256b3", /* Html color code */
                        onlineCircle: false /* Avatar online circle. To remove, (onlineCircle:false) */
                    },
                    text: {
                        title: "Presupuesto Ciudadano", /* Writing is required */
                        description: false, /* To remove, (description:false) */
                        online: false, /* To remove, (online:false) */
                        offline: false /* To remove, (offline:false) */
                    },
                    link: {
                        desktop: "../ProcesoPresupuesto", /* Writing is required */
                        mobile: false /* If it is hidden desktop link will be valid. To remove, (mobile:false) */
                    },

                },
                /* [::End Copy::] */
                /* Copy for more representatives [::Start Copy::] */
                {
                    avatar: {
                        src: '<i class="material-icons md-22">arrow-right</i>', /* Image, Icon or SVG */
                        backgroundColor: "#0256b3", /* Html color code */
                        onlineCircle: false /* Avatar online circle. To remove, (onlineCircle:false) */
                    },
                    text: {
                        title: "Acerca de MapaInversiones República Dominicana", /* Writing is required */
                        description: false, /* To remove, (description:false) */
                        online: false, /* To remove, (online:false) */
                        offline: false /* To remove, (offline:false) */
                    },
                    link: {
                        desktop: "../Acercade", /* Writing is required */
                        mobile: false /* If it is hidden desktop link will be valid. To remove, (mobile:false) */
                    },

                },
                /* [::End Copy::] */
                /* Copy for more representatives [::Start Copy::] */
                {
                    avatar: {
                        src: '<i class="material-icons md-22">arrow-right</i>', /* Image, Icon or SVG */
                        backgroundColor: "#0256b3", /* Html color code */
                        onlineCircle: false /* Avatar online circle. To remove, (onlineCircle:false) */
                    },
                    text: {
                        title: "Glosario", /* Writing is required */
                        description: false, /* To remove, (description:false) */
                        online: false, /* To remove, (online:false) */
                        offline: false /* To remove, (offline:false) */
                    },
                    link: {
                        desktop: "../CentroAyuda?id=1", /* Writing is required */
                        mobile: false /* If it is hidden desktop link will be valid. To remove, (mobile:false) */
                    },
                },
                /* [::End Copy::] */
                /* Copy for more representatives [::Start Copy::] */
                {
                    avatar: {
                        src: '<i class="material-icons md-22">arrow-right</i>', /* Image, Icon or SVG */
                        backgroundColor: "#0256b3", /* Html color code */
                        onlineCircle: false /* Avatar online circle. To remove, (onlineCircle:false) */
                    },
                    text: {
                        title: "Preguntas Frecuentes", /* Writing is required */
                        description: false, /* To remove, (description:false) */
                        online: false, /* To remove, (online:false) */
                        offline: false /* To remove, (offline:false) */
                    },
                    link: {
                        desktop: "../CentroAyuda?id=2", /* Writing is required */
                        mobile: false /* If it is hidden desktop link will be valid. To remove, (mobile:false) */
                    },
                },
                /* [::End Copy::] */
                /* Copy for more representatives [::Start Copy::] */
                {
                    avatar: {
                        src: '<i class="material-icons md-22">arrow-right</i>', /* Image, Icon or SVG */
                        backgroundColor: "#0256b3", /* Html color code */
                        onlineCircle: false /* Avatar online circle. To remove, (onlineCircle:false) */
                    },
                    text: {
                        title: "Contáctenos", /* Writing is required */
                        description: false, /* To remove, (description:false) */
                        online: false, /* To remove, (online:false) */
                        offline: false /* To remove, (offline:false) */
                    },
                    link: {
                        desktop: "../Contactanos", /* Writing is required */
                        mobile: false /* If it is hidden desktop link will be valid. To remove, (mobile:false) */
                    },

                },
                /* [::End Copy::] */

            ]
        },


    });

</script>

@if (IsSectionDefined("scripts"))
{
    RenderSection("scripts", required: false);
}

</!body>
</html>